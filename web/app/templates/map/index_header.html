<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
        <!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
        <title>{{ map.titulo }}</title>

        <!-- css files -->
        {% if config.BUNDLE_FILES == True %}
        <link href="{{ url_for('static', filename='build/css/bundle-map-header.css') }}" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        {% else %}
        <link href="{{ url_for('static', filename='bower_components/openlayers/ol.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='bower_components/bootstrap/dist/css/bootstrap.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='bower_components/font-awesome/css/font-awesome.min.css') }}" rel="stylesheet">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

        <link href="{{ url_for('static', filename='css/font-simfat/css/font-simfat.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/font-sim/css/font-sim.css') }}" rel="stylesheet">

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:regular,light">

        <link href="{{ url_for('static', filename='bower_components/nouislider/nouislider.min.css') }}" rel="stylesheet">

        <link href="{{ url_for('static', filename='bower_components/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='bower_components/bootstrap-multiselect/dist/css/bootstrap-multiselect.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='bower_components/pick-a-color/build/1.2.3/css/pick-a-color-1.2.3.min.css') }}" rel="stylesheet">

        <link href="{{ url_for('static', filename='bower_components/jspanel3/source/jquery.jspanel.min.css') }}" rel="stylesheet">

        <link href="{{ url_for('static', filename='css/common.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/map.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/map_header.css') }}" rel="stylesheet">
        {% endif %}

        {% if script_files|length > 0 %}
          {% for f in script_files if f.file.endswith('.css') %}
            <link href="{{ url_for(f.blueprint, filename=f.file) }}" rel="stylesheet">
          {% endfor %}
        {% endif %}
        <!-- end css files -->

        <!--script files-->
        {% if config.BUNDLE_FILES == True %}
        <script src="{{ url_for('static', filename='build/js/bundle-map-modules.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='build/js/bundle-map-ol.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='build/js/bundle-map-app.js') }}" type="text/javascript"></script>

        {% if script_files|length > 0 %}
          {% for f in script_files if f.file.endswith('.js') %}
            <script src="{{ url_for(f.blueprint, filename=f.file) }}" type="text/javascript"></script>
          {% endfor %}
        {% endif %}

        {% else %}
        <script src="{{ url_for('static', filename='bower_components/jquery-3.2.1/dist/jquery.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/bootstrap/dist/js/bootstrap.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/proj4/dist/proj4.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/openlayers/ol-debug.js') }}" type="text/javascript"></script>

        <!--<script src="{{ url_for('static', filename='scripts/js/ol2/OpenLayers-ows.js') }}" type="text/javascript"></script>-->
        <script src="{{ url_for('static', filename='scripts/js/libs/ol2/OpenLayers.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/libs/ol2/wms/v1_1_1_INSPIRE.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/libs/ol2/wms/v1_3_0_INSPIRE.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/libs/ol2/wfs/v1_1_0_INSPIRE.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/libs/ol2/wfs/v2_0_0_INSPIRE.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='bower_components/purl/purl.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='scripts/js/libs/jquery.blockUI.min.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='bower_components/nouislider/nouislider.min.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='scripts/js/libs/jquery.inputmask.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='bower_components/moment/min/moment.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/moment/min/locales.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/bootstrap-multiselect/dist/js/bootstrap-multiselect.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/tinycolor/dist/tinycolor-min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/pick-a-color/build/1.2.3/js/pick-a-color-1.2.3.min.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='bower_components/file-saver/dist/FileSaver.min.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='bower_components/jspanel3/source/jquery.jspanel.min.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='scripts/js/map/app.layers-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.basemaps-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.basemaps-map-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.zoom-extent-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.measure-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.mouse-position-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.coordinates-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.numeric-scale-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.feature-info-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.feature-select-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.generic-draw-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.map-history-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.google-streetview-control.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/app.drawtools-control.js') }}" type="text/javascript"></script>

        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.coordenadas.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.pdm.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.print.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.ows.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.catalog.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.search.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.planos.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.confrontation.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/portal.viewer.drawtools.js') }}" type="text/javascript"></script>

        {% if script_files|length > 0 %}
          {% for f in script_files if f.file.endswith('.js') %}
            <script src="{{ url_for(f.blueprint, filename=f.file) }}" type="text/javascript"></script>
          {% endfor %}
        {% endif %}

        <script src="{{ url_for('static', filename='scripts/js/map/main.js') }}" type="text/javascript"></script>
        {% endif %}

        {% if config.GOOGLE_MAPS_API_KEY %}
        <script src="//maps.googleapis.com/maps/api/js?v=3&key={{ config.GOOGLE_MAPS_API_KEY }}"></script>
        {% else %}
        <script src="//maps.googleapis.com/maps/api/js?v=3"></script>
        {% endif %}
        <!-- end script files -->

    </head>
    <body>
        {% include config.COOKIE_WARNING_TEMPLATE if config.COOKIE_WARNING_TEMPLATE else '_cookie_warning.html' %}

        <div id="header">
        {% if header_html and header_html|length > 0 %}
            {{header_html|safe}}
        {% else %}
            {% include header_template %}
        {% endif %}
        </div>

        <div id="container">
        {% if container_html and container_html|length > 0 %}
            {{container_html|safe}}
        {% else %}
            {% include container_template %}
        {% endif %}
        </div>

        <script type="text/javascript">
            $(document).ready(function(){
                LoadApp('{{ url_for('map.get_config', id = map.id ) }}', '{{ config.PROXY or url_for('map.proxy') }}');
            })
        </script>

        {% if (map.post_script and map.post_script|length > 0) %}
        <script type="text/javascript">
            {{map.post_script|safe}}
        </script>
        {% endif %}

        {% if config.BUNDLE_FILES == True %}
        <script src="{{ url_for('static', filename='build/js/bundle-map-app-post.js') }}" type="text/javascript"></script>
        {% else %}
        <script src="{{ url_for('static', filename='bower_components/typeahead.js/dist/typeahead.bundle.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts/js/map/geonames-services.js') }}" type="text/javascript"></script>
        {% endif %}
    </body>
</html>